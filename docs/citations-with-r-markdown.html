<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Citations with R Markdown | The Surgical Informatics Cookbook</title>
  <meta name="description" content="All the brilliant bits of code we don’t want to forget." />
  <meta name="generator" content="bookdown 0.20.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Citations with R Markdown | The Surgical Informatics Cookbook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="All the brilliant bits of code we don’t want to forget." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Citations with R Markdown | The Surgical Informatics Cookbook" />
  
  <meta name="twitter:description" content="All the brilliant bits of code we don’t want to forget." />
  

<meta name="author" content="Surgical Informatics, University of Edinburgh" />


<meta name="date" content="2020-10-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="server-admin.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The Surgical Informatics Cookbook</a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#how-to-contribute"><i class="fa fa-check"></i><b>1.1</b> How to contribute</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#indexing"><i class="fa fa-check"></i><b>1.2</b> Indexing</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#index"><i class="fa fa-check"></i><b>1.2.1</b> Index</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#chapter-and-section-references"><i class="fa fa-check"></i><b>1.2.2</b> Chapter and section references</a></li>
<li class="chapter" data-level="1.2.3" data-path="introduction.html"><a href="introduction.html#figure-and-table-references"><i class="fa fa-check"></i><b>1.2.3</b> Figure and table references</a></li>
<li class="chapter" data-level="1.2.4" data-path="introduction.html"><a href="introduction.html#citations"><i class="fa fa-check"></i><b>1.2.4</b> Citations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="snippets.html"><a href="snippets.html"><i class="fa fa-check"></i><b>2</b> Snippets</a><ul>
<li class="chapter" data-level="2.1" data-path="snippets.html"><a href="snippets.html#useful-rstudio-functions"><i class="fa fa-check"></i><b>2.1</b> Useful RStudio functions</a><ul>
<li class="chapter" data-level="2.1.1" data-path="snippets.html"><a href="snippets.html#clean-restart"><i class="fa fa-check"></i><b>2.1.1</b> Clean restart</a></li>
<li class="chapter" data-level="2.1.2" data-path="snippets.html"><a href="snippets.html#remove-duplicated-packages-between-personal-and-system-libraries"><i class="fa fa-check"></i><b>2.1.2</b> Remove duplicated packages between personal and system libraries</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="snippets.html"><a href="snippets.html#exporting-tables-that-work-in-both-pdf-and-word"><i class="fa fa-check"></i><b>2.2</b> Exporting tables that work in both PDF and Word</a><ul>
<li class="chapter" data-level="2.2.1" data-path="snippets.html"><a href="snippets.html#warning-in-kableextra.-please-specify-format-in-kable.-kableextra-can-customize-either-html-or-latex-outputs."><i class="fa fa-check"></i><b>2.2.1</b> Warning in kableExtra. Please specify format in kable. kableExtra can customize either HTML or LaTeX outputs.</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="snippets.html"><a href="snippets.html#creating-reproducible-r-examples-to-share-in-the-group-binder-holepunch-and-docker"><i class="fa fa-check"></i><b>2.3</b> Creating Reproducible R Examples to Share in the Group (binder, holepunch and docker)</a><ul>
<li class="chapter" data-level="2.3.1" data-path="snippets.html"><a href="snippets.html#create-basic-reproducible-examples"><i class="fa fa-check"></i><b>2.3.1</b> Create Basic Reproducible Examples</a></li>
<li class="chapter" data-level="2.3.2" data-path="snippets.html"><a href="snippets.html#holepunch---complex-reproducible-examples"><i class="fa fa-check"></i><b>2.3.2</b> <code>holepunch</code> - Complex Reproducible Examples</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="snippets.html"><a href="snippets.html#working-with-chis"><i class="fa fa-check"></i><b>2.4</b> Working with CHIs</a><ul>
<li class="chapter" data-level="2.4.1" data-path="snippets.html"><a href="snippets.html#chi_dob---extract-date-of-birth-from-chi"><i class="fa fa-check"></i><b>2.4.1</b> <code>chi_dob()</code> - Extract date of birth from CHI</a></li>
<li class="chapter" data-level="2.4.2" data-path="snippets.html"><a href="snippets.html#chi_gender---extract-gender-from-chi"><i class="fa fa-check"></i><b>2.4.2</b> <code>chi_gender()</code> - Extract gender from CHI</a></li>
<li class="chapter" data-level="2.4.3" data-path="snippets.html"><a href="snippets.html#chi_age---extract-age-from-chi"><i class="fa fa-check"></i><b>2.4.3</b> <code>chi_age()</code> - Extract age from CHI</a></li>
<li class="chapter" data-level="2.4.4" data-path="snippets.html"><a href="snippets.html#chi_valid---logical-test-for-valid-chi"><i class="fa fa-check"></i><b>2.4.4</b> <code>chi_valid()</code> - Logical test for valid CHI</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="snippets.html"><a href="snippets.html#working-with-dates"><i class="fa fa-check"></i><b>2.5</b> Working with dates</a><ul>
<li class="chapter" data-level="2.5.1" data-path="snippets.html"><a href="snippets.html#difference-between-two-dates"><i class="fa fa-check"></i><b>2.5.1</b> Difference between two dates</a></li>
<li class="chapter" data-level="2.5.2" data-path="snippets.html"><a href="snippets.html#lags"><i class="fa fa-check"></i><b>2.5.2</b> Lags</a></li>
<li class="chapter" data-level="2.5.3" data-path="snippets.html"><a href="snippets.html#pulling-out-change-in-status-data"><i class="fa fa-check"></i><b>2.5.3</b> Pulling out “change in status” data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>3</b> Data manipulation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-manipulation.html"><a href="data-manipulation.html#collapse-multiple-no-and-yes-options"><i class="fa fa-check"></i><b>3.1</b> Collapse multiple “no” and “yes” options</a></li>
<li class="chapter" data-level="3.2" data-path="data-manipulation.html"><a href="data-manipulation.html#filter-na-dropping-rows-where-all-specified-variables-are-na"><i class="fa fa-check"></i><b>3.2</b> Filter NA: Dropping rows where all specified variables are NA</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>4</b> Machine learning</a><ul>
<li class="chapter" data-level="4.1" data-path="machine-learning.html"><a href="machine-learning.html#deep-learning"><i class="fa fa-check"></i><b>4.1</b> Deep learning</a><ul>
<li class="chapter" data-level="4.1.1" data-path="machine-learning.html"><a href="machine-learning.html#pulling-images-from-redcap-directly-to-argodeep"><i class="fa fa-check"></i><b>4.1.1</b> Pulling images from REDCap directly to argodeep</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html"><i class="fa fa-check"></i><b>5</b> Data Transfer and Eddie</a><ul>
<li class="chapter" data-level="5.1" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#uploading-and-downloading-data-the-easy-way"><i class="fa fa-check"></i><b>5.1</b> Uploading and Downloading Data the Easy Way</a></li>
<li class="chapter" data-level="5.2" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#alternative-methods-when-the-easy-way-wont-work"><i class="fa fa-check"></i><b>5.2</b> Alternative Methods when the Easy Way won’t work</a><ul>
<li class="chapter" data-level="5.2.1" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#what-is-eddie"><i class="fa fa-check"></i><b>5.2.1</b> What is Eddie?</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#using-the-command-line"><i class="fa fa-check"></i><b>5.3</b> Using the Command Line</a><ul>
<li class="chapter" data-level="5.3.1" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#downloads-and-setup---eddie-example"><i class="fa fa-check"></i><b>5.3.1</b> Downloads and Setup - Eddie Example</a></li>
<li class="chapter" data-level="5.3.2" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#copy-and-paste-with-putty"><i class="fa fa-check"></i><b>5.3.2</b> Copy and Paste with PuTTY</a></li>
<li class="chapter" data-level="5.3.3" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#closing-a-session-in-putty"><i class="fa fa-check"></i><b>5.3.3</b> Closing a Session in PuTTY</a></li>
<li class="chapter" data-level="5.3.4" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#eddie-file-structure"><i class="fa fa-check"></i><b>5.3.4</b> Eddie File Structure</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#copying-data-from-eddie-into-rstudio-server"><i class="fa fa-check"></i><b>5.4</b> Copying Data from Eddie into RStudio server</a><ul>
<li class="chapter" data-level="5.4.1" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#method-1-using-putty-or-another-terminalshell-connected-to-eddie"><i class="fa fa-check"></i><b>5.4.1</b> Method 1: Using PuTTY (or another terminal/shell connected to Eddie)</a></li>
<li class="chapter" data-level="5.4.2" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#method-2-using-the-rstudio-server-terminal"><i class="fa fa-check"></i><b>5.4.2</b> Method 2: Using the RStudio Server Terminal</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#the-surgical-informatics-group-folder-on-eddie"><i class="fa fa-check"></i><b>5.5</b> The Surgical Informatics Group Folder (On Eddie)</a><ul>
<li class="chapter" data-level="5.5.1" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#the-scratch-space"><i class="fa fa-check"></i><b>5.5.1</b> The Scratch Space</a></li>
<li class="chapter" data-level="5.5.2" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#other-spaces"><i class="fa fa-check"></i><b>5.5.2</b> Other Spaces</a></li>
<li class="chapter" data-level="5.5.3" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#running-eddie-from-rstudio-server"><i class="fa fa-check"></i><b>5.5.3</b> Running Eddie from RStudio Server</a></li>
<li class="chapter" data-level="5.5.4" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#modules-applications-in-eddie"><i class="fa fa-check"></i><b>5.5.4</b> Modules (Applications) in Eddie</a></li>
<li class="chapter" data-level="5.5.5" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#working-with-r-in-eddie"><i class="fa fa-check"></i><b>5.5.5</b> Working with R in Eddie</a></li>
<li class="chapter" data-level="5.5.6" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#specific-r-package-versions"><i class="fa fa-check"></i><b>5.5.6</b> Specific R Package Versions</a></li>
<li class="chapter" data-level="5.5.7" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#general-eddie-etiquette"><i class="fa fa-check"></i><b>5.5.7</b> General Eddie Etiquette</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#unix-tutorials"><i class="fa fa-check"></i><b>5.6</b> Unix Tutorials</a></li>
<li class="chapter" data-level="5.7" data-path="data-transfer-and-eddie.html"><a href="data-transfer-and-eddie.html#additional-resources"><i class="fa fa-check"></i><b>5.7</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>6</b> Plotting</a><ul>
<li class="chapter" data-level="6.1" data-path="plotting.html"><a href="plotting.html#gghighlight-example"><i class="fa fa-check"></i><b>6.1</b> GGHighlight Example</a></li>
<li class="chapter" data-level="6.2" data-path="plotting.html"><a href="plotting.html#coord_flip-factor-orders"><i class="fa fa-check"></i><b>6.2</b> <code>coord_flip()</code> factor orders</a></li>
<li class="chapter" data-level="6.3" data-path="plotting.html"><a href="plotting.html#axis-font-size"><i class="fa fa-check"></i><b>6.3</b> Axis font size</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="genomics.html"><a href="genomics.html"><i class="fa fa-check"></i><b>7</b> Genomics</a><ul>
<li class="chapter" data-level="7.1" data-path="genomics.html"><a href="genomics.html#single-cell-analysis"><i class="fa fa-check"></i><b>7.1</b> Single Cell Analysis</a><ul>
<li class="chapter" data-level="7.1.1" data-path="genomics.html"><a href="genomics.html#minimising-the-size-of-a-seurat-object"><i class="fa fa-check"></i><b>7.1.1</b> Minimising the size of a Seurat Object</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="programming-in-rlang.html"><a href="programming-in-rlang.html"><i class="fa fa-check"></i><b>8</b> Programming in rlang</a><ul>
<li class="chapter" data-level="8.1" data-path="programming-in-rlang.html"><a href="programming-in-rlang.html#rlang"><i class="fa fa-check"></i><b>8.1</b> rlang</a><ul>
<li class="chapter" data-level="8.1.1" data-path="programming-in-rlang.html"><a href="programming-in-rlang.html#what-is-rlang"><i class="fa fa-check"></i><b>8.1.1</b> What is rlang?</a></li>
<li class="chapter" data-level="8.1.2" data-path="programming-in-rlang.html"><a href="programming-in-rlang.html#dynamic-calling-of-variables-using-dplyr"><i class="fa fa-check"></i><b>8.1.2</b> Dynamic calling of variables using dplyr</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="server-admin.html"><a href="server-admin.html"><i class="fa fa-check"></i><b>9</b> Server admin</a><ul>
<li class="chapter" data-level="9.1" data-path="server-admin.html"><a href="server-admin.html#rstudio-argonaut-and-argosafe"><i class="fa fa-check"></i><b>9.1</b> RStudio (argonaut and argosafe)</a><ul>
<li class="chapter" data-level="9.1.1" data-path="server-admin.html"><a href="server-admin.html#scheduled-script-cron"><i class="fa fa-check"></i><b>9.1.1</b> Scheduled script (CRON)</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="server-admin.html"><a href="server-admin.html#rstudio-connect-argoshare"><i class="fa fa-check"></i><b>9.2</b> RStudio Connect: argoshare</a><ul>
<li class="chapter" data-level="9.2.1" data-path="server-admin.html"><a href="server-admin.html#delete-user"><i class="fa fa-check"></i><b>9.2.1</b> Delete user</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="server-admin.html"><a href="server-admin.html#shiny-server-setup---uoe"><i class="fa fa-check"></i><b>9.3</b> Shiny server setup - UoE</a><ul>
<li class="chapter" data-level="9.3.1" data-path="server-admin.html"><a href="server-admin.html#setting-up-ubuntu-instance"><i class="fa fa-check"></i><b>9.3.1</b> Setting up Ubuntu Instance</a></li>
<li class="chapter" data-level="9.3.2" data-path="server-admin.html"><a href="server-admin.html#install-nginx"><i class="fa fa-check"></i><b>9.3.2</b> Install Nginx</a></li>
<li class="chapter" data-level="9.3.3" data-path="server-admin.html"><a href="server-admin.html#installing-r"><i class="fa fa-check"></i><b>9.3.3</b> Installing R</a></li>
<li class="chapter" data-level="9.3.4" data-path="server-admin.html"><a href="server-admin.html#installing-shiny-server"><i class="fa fa-check"></i><b>9.3.4</b> Installing Shiny Server</a></li>
<li class="chapter" data-level="9.3.5" data-path="server-admin.html"><a href="server-admin.html#installing-other-linux-packages"><i class="fa fa-check"></i><b>9.3.5</b> Installing other Linux packages</a></li>
<li class="chapter" data-level="9.3.6" data-path="server-admin.html"><a href="server-admin.html#installing-r-packages"><i class="fa fa-check"></i><b>9.3.6</b> Installing R packages</a></li>
<li class="chapter" data-level="9.3.7" data-path="server-admin.html"><a href="server-admin.html#loading-your-app"><i class="fa fa-check"></i><b>9.3.7</b> Loading your app</a></li>
<li class="chapter" data-level="9.3.8" data-path="server-admin.html"><a href="server-admin.html#make-your-app-the-default-index-page"><i class="fa fa-check"></i><b>9.3.8</b> Make your app the default index page</a></li>
<li class="chapter" data-level="9.3.9" data-path="server-admin.html"><a href="server-admin.html#getting-a-user-friendly-domain-name"><i class="fa fa-check"></i><b>9.3.9</b> Getting a user-friendly domain name</a></li>
<li class="chapter" data-level="9.3.10" data-path="server-admin.html"><a href="server-admin.html#appendix-1-password-protecting-your-site"><i class="fa fa-check"></i><b>9.3.10</b> Appendix 1 – Password protecting your site</a></li>
<li class="chapter" data-level="9.3.11" data-path="server-admin.html"><a href="server-admin.html#appendix-2-setting-up-a-swap-file"><i class="fa fa-check"></i><b>9.3.11</b> APPENDIX 2 – Setting up a swap file</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html"><i class="fa fa-check"></i><b>10</b> Citations with R Markdown</a><ul>
<li class="chapter" data-level="10.1" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#zotero-set-up"><i class="fa fa-check"></i><b>10.1</b> Zotero Set-up</a></li>
<li class="chapter" data-level="10.2" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#file-storage-set-up"><i class="fa fa-check"></i><b>10.2</b> File Storage Set-up</a></li>
<li class="chapter" data-level="10.3" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#folder-set-up"><i class="fa fa-check"></i><b>10.3</b> Folder Set-up</a><ul>
<li class="chapter" data-level="10.3.1" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#storing-pdfs"><i class="fa fa-check"></i><b>10.3.1</b> Storing PDFs</a></li>
<li class="chapter" data-level="10.3.2" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#storing-bibliographies"><i class="fa fa-check"></i><b>10.3.2</b> Storing Bibliographies</a></li>
<li class="chapter" data-level="10.3.3" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#subfolder-for-references"><i class="fa fa-check"></i><b>10.3.3</b> Subfolder for References</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#configuring-zotero"><i class="fa fa-check"></i><b>10.4</b> Configuring Zotero</a><ul>
<li class="chapter" data-level="10.4.1" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#zotfile-pdf-preferences"><i class="fa fa-check"></i><b>10.4.1</b> ZotFile PDF Preferences</a></li>
<li class="chapter" data-level="10.4.2" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#general-zotero-settings"><i class="fa fa-check"></i><b>10.4.2</b> General Zotero Settings</a></li>
<li class="chapter" data-level="10.4.3" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#refresh-bibtex-citation-key"><i class="fa fa-check"></i><b>10.4.3</b> Refresh BibTex Citation Key</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#generating-a-.bib-file"><i class="fa fa-check"></i><b>10.5</b> Generating a .bib File</a></li>
<li class="chapter" data-level="10.6" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#linking-dropbox-and-rstudio-server"><i class="fa fa-check"></i><b>10.6</b> Linking DropBox and Rstudio Server</a><ul>
<li class="chapter" data-level="10.6.1" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#token-creation"><i class="fa fa-check"></i><b>10.6.1</b> Token Creation</a></li>
<li class="chapter" data-level="10.6.2" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#dropbox-linkage"><i class="fa fa-check"></i><b>10.6.2</b> DropBox Linkage</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="citations-with-r-markdown.html"><a href="citations-with-r-markdown.html#citing-r-packages"><i class="fa fa-check"></i><b>10.7</b> Citing R Packages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Surgical Informatics Cookbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="citations-with-r-markdown" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Citations with R Markdown</h1>
<p>Writing publications and other documents requires citations both of academic papers and of R packages.</p>
<p>Zotero provides efficient and free reference management which generates new citation objects with the click of a button in Chrome and easy generation of <code>.bib</code> files which can be used to create references in <code>rmarkdown</code> and <code>bookdown</code>.</p>
<p><em>Top tip: Do this on Day 1 of your PhD!</em></p>
<div id="zotero-set-up" class="section level2">
<h2><span class="header-section-number">10.1</span> Zotero Set-up</h2>
<p><a href="https://www.zotero.org/download/">Zotero</a> should be installed and provides 300MB of free storage which covers a few thousand references as long as PDFs are stored elsewhere. The <a href="https://www.zotero.org/download/">Chrome connector</a> can be downloaded to allow one-click saving of citations. Just click the icon at the top right of the browser to store meta-data and files.</p>
<p>Set up an online account with Zotero so that your data is available remotely.</p>
<p><a href="https://www.zotero.org/support/plugins">Zotfile</a> should be installed to help with PDF storage. Download the <code>.xpi</code> file for Zotfile. To install <strong>Zotfile</strong> open Zotero and go to <code>Tools → Add-ons → cog in top right corner</code> and select downloaded <code>.xpi</code> file to install.</p>
<div class="figure"><span id="fig:add-on-install"></span>
<img src="img/zotero_add_on_install.png" alt="Installing a Zotero Plug-in from an .xpi File" width="1324" />
<p class="caption">
Figure 10.1: Installing a Zotero Plug-in from an .xpi File
</p>
</div>
<p><a href="https://github.com/retorquere/zotero-better-bibtex/releases/tag/v5.1.76">Better BibTeX</a> is another plug-in which generates citation keys in a robust and reproducible way which is needed for larger projects (e.g. PhDs) to avoid duplicate citation handles. An <code>.xpi</code> file can be downloaded from GitHub and installed in the same way.</p>
</div>
<div id="file-storage-set-up" class="section level2">
<h2><span class="header-section-number">10.2</span> File Storage Set-up</h2>
<p>In addition to Zotero set-up it is a good idea to have a cloud storage service to maintain a library of PDFs without using up Zotero storage capacity. These will also need to be accessible to the <code>Windows Explorer</code> or the <code>Mac Finder</code> - there are several guides on how to do this for <a href="https://www.howtogeek.com/228989/how-to-use-the-desktop-google-drive-app/">Google Drive</a> and <a href="https://www.dropboxforum.com/t5/Installation-and-desktop-app/How-do-I-put-Dropbox-on-my-File-Explorer-in-Win-10/td-p/313031">DropBox</a>.</p>
</div>
<div id="folder-set-up" class="section level2">
<h2><span class="header-section-number">10.3</span> Folder Set-up</h2>
<div id="storing-pdfs" class="section level3">
<h3><span class="header-section-number">10.3.1</span> Storing PDFs</h3>
<p>Create a folder in a cloud storage service to store PDFs which can be accessed from your own file explorer.</p>
</div>
<div id="storing-bibliographies" class="section level3">
<h3><span class="header-section-number">10.3.2</span> Storing Bibliographies</h3>
<p>Create a folder which will store your <code>.bib</code> file. This can then be used to provide the references for your <code>.rmd</code> files.</p>
</div>
<div id="subfolder-for-references" class="section level3">
<h3><span class="header-section-number">10.3.3</span> Subfolder for References</h3>
<p>It may be a good idea in Zotero to carefully categorise publications by their content. This makes it very easy to look up publications on a given topic (Zotero allows a citation to be shared across several folders such that a publication documenting an RCT with updated meta-analysis could be in folders for each type of study etc.).</p>
<p>Generally a parent folder will be used to generate a bibliography file and anything likely to be cited in a document / thesis should be in that folder or one of its subfolders.</p>
</div>
</div>
<div id="configuring-zotero" class="section level2">
<h2><span class="header-section-number">10.4</span> Configuring Zotero</h2>
<div id="zotfile-pdf-preferences" class="section level3">
<h3><span class="header-section-number">10.4.1</span> ZotFile PDF Preferences</h3>
<p>To setup Zotero so that retrieved PDFs are automatically stored and renamed in the cloud storage without consuming the Zotero storage quota go to “Tools → ZotFile Preferences” and on the first tab: <strong>General Settings</strong> and set the folder and subfolder naming strategy for PDFs. Set the location of the files to a Custom location in cloud storage e.g.(“~\Google Drive\Zotero PDF Library”). ZotFile will also store retrieved PDFs in subfolders to help with finding PDFs at a later date. A reasonable setup is to create a subfolder with the first author surname so that all papers authored by one (or more) author with the same name are stored together using the \%a in the subfolder field. Other alternatives are to store PDFs in subfolders using year (\%y); journal or publisher (\%w); or item type (\%T).</p>
<div class="figure"><span id="fig:zotfile-preferences"></span>
<img src="img/zotfile_preferences.png" alt="ZotFile PDF Storage Preferences" width="1600" />
<p class="caption">
Figure 10.2: ZotFile PDF Storage Preferences
</p>
</div>
<p>Next the <strong>Renaming Rules</strong> tab can be configured to provide sensible names to each of the files (this is essential if PDFs are not to be stored as random strings of characters which provide no meaning). Setting the format to: {%a_}{%y_}{%t} provides names for the PDFs in the format of: <code>Fairfield_2019_Gallstone_Disease_and_the_Risk_of_Cardiovascular_Disease.pdf</code>. This shows author, year and first word of title without needing to expand the file name.</p>
<div class="figure"><span id="fig:zotfile-renaming"></span>
<img src="img/zotfile_renaming.png" alt="ZotFile PDF Storage Preferences" width="1601" />
<p class="caption">
Figure 10.3: ZotFile PDF Storage Preferences
</p>
</div>
<p>In the <strong>Advanced Settings</strong> tab it is strongly recommended to select removal of “Special characters”, leaving these in creates problems when knitting to PDF as LaTeX may recognise the special characters in unexpected ways.</p>
</div>
<div id="general-zotero-settings" class="section level3">
<h3><span class="header-section-number">10.4.2</span> General Zotero Settings</h3>
<p>Zotero has several configurable settings (accessed through: “Edit → Preferences”). The following settings are generally helpful (left as default if not mentioned):</p>
<p><strong>General:</strong>
+ Tick the following:
+ Automatically attach associated PDFs
+ Automatically retrieve metadata for PDFs
+ Automatically rename attachments using parent metadata
+ Automatically tag items with keywords and subject headings
+ All options in Group section
+ Leave the following unticked:
+ Automatically take snapshots
+ Rename linked files</p>
<p><strong>Sync:</strong>
+ Enter the account details
+ Tick sync automatically
+ Untick sync full text (if you choose to save PDFs then syncing full text will quickly consume the 300MB quota)</p>
<p><strong>Search:</strong>
+ Leave unchanged</p>
<p><strong>Export:</strong>
+ Leave unchanged</p>
<p><strong>Cite:</strong>
+ There are several sensible defaults but if there is a new citation style you wish to be able to use in Microsoft Word for example then click “Get additional styles” as there is probably a version that you need already created. You can click the “+” button to add a style from a <code>.csl</code> file if you have one already. Finally, if you are desperate for a style that doesn’t already exist then you can select a citation style and click Style Editor and edit the raw <code>.csl</code> file. The <code>.csl</code> file for use in <code>.rmd</code> doesn’t need configured here but instead within the YAML of your .rmd file
+ In the Word Processors subtab (on the main Cite tab), you can install the Microsoft Word add-in to allow Zotero to work in Microsoft Word.</p>
<p><strong>Advanced:</strong>
+ Change nothing on the General subtab
+ In the Files and Folders subtab select the path to directory for attachments
+ Change nothing on the Shortcuts subtab
+ Change nothing on the Feeds subtab</p>
<p><strong>Better BibTex:</strong>
+ In this section set the Citation Key format to [auth:lower:alphanum]<em>[year:alphanum]</em>[veryshorttitle:lower:alphanum]_[journal:lower:clean:alphanum] (Figure 4). This generates a citation key for each reference in the format of fairfield_2019_gallstones_scientificreports or harrison_2012_hospital_bmj. It always takes the first author’s surname, the year, the first word of the title and the journal abbreviation if known. The clean and alphanum arguments to this field are used to remove unwanted punctuation which can cause citation to fail in LaTeX.</p>
<p>If an author has published an article with the same first word of the title in the same year then the second article appends an “a” to the handle and the third a “b” and so on.</p>
<div class="figure"><span id="fig:zotfile-citation-key"></span>
<img src="img/zotero_citation_key.png" alt="ZotFile PDF Storage Preferences" width="1599" />
<p class="caption">
Figure 10.4: ZotFile PDF Storage Preferences
</p>
</div>
</div>
<div id="refresh-bibtex-citation-key" class="section level3">
<h3><span class="header-section-number">10.4.3</span> Refresh BibTex Citation Key</h3>
<p>If you already have used Zotero without this setup and want to refresh your citation keys to follow the standard pattern then select all references, right click and use “Better BibTex → Refresh BibTeX Key”.</p>
</div>
</div>
<div id="generating-a-.bib-file" class="section level2">
<h2><span class="header-section-number">10.5</span> Generating a .bib File</h2>
<p>For referencing in a new project, publication or submission it may be helpful to have a dynamic <code>.bib</code> file that updates with every new publication added to Zotero and can be accessed from any device through cloud storage.</p>
<p>To set up a <code>.bib</code> file, first find the folder that you wish to create the file from (this should be the folder which contains any citations you will use and ideally not the full library to cut down on unnecessary storage and syncing requirements).</p>
<p>Note that the <code>.bib</code> file will generate a bibliography from any citations stored directly in the folder when using default settings. This prevents use of subfolders which are particularly helpful for organising citations so it may be helpful to change the setting so that folders also show any citations stored in subfolders. To make this change go to “Edit Preferences” and select the “Advanced” tab and at the bottom of the “General” subtab select “Config Editor”. This will bring up a searchable list of configurations (it may show a warning message before this) and search in the search box for “extensions.zotero.recursiveCollections”. Set “Value” to TRUE and then when you click a folder you should see all of the citations also stored in subfolders.</p>
<p>Right click the folder which has all of the references (with or without subfolders) and select “Export Collection”. A pop-up window will appear at which point select “Keep Updated” and if using RStudio desktop save the file in the directory where you have your <code>.rmd</code> project files. If you are working with RStudio server then save the file in a cloud storage location which will then be accessed from the server. A <code>.bib</code> file stored in Dropbox can be copied into RStudio server for a given project as per below.</p>
</div>
<div id="linking-dropbox-and-rstudio-server" class="section level2">
<h2><span class="header-section-number">10.6</span> Linking DropBox and Rstudio Server</h2>
<p>Dropbox provides a token to allow communication between different apps. The <code>rdrop2</code> package allows this. It may be necessary to create the token on RStudio desktop as creation on the server is buggy but this is perfectly ok.</p>
<p><strong>Caution:</strong> The token generated by this process could be used to access your Dropbox from anywhere using RStudio if you do not keep it secure. If somebody were to access an unencrypted token then it would be equivalent to handing out your email and password. Use the <code>encryptr</code> package to allow safe storage of this token.</p>
<div id="token-creation" class="section level3">
<h3><span class="header-section-number">10.6.1</span> Token Creation</h3>
<p>The code will create two files, a token and the <code>.httr-oauth</code> file from which a token can also be made. The encryptr package can then encrypt the files using a public / private key pair. It is essential that the password that is set when using genkeys() is remembered otherwise the token cannot then be used. In this case the original token can’t be retrieved but could be created again from scratch.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="citations-with-r-markdown.html#cb111-1"></a><span class="kw">library</span>(rdrop2)</span>
<span id="cb111-2"><a href="citations-with-r-markdown.html#cb111-2"></a><span class="kw">library</span>(encryptr)</span>
<span id="cb111-3"><a href="citations-with-r-markdown.html#cb111-3"></a> </span>
<span id="cb111-4"><a href="citations-with-r-markdown.html#cb111-4"></a><span class="co"># Create token</span></span>
<span id="cb111-5"><a href="citations-with-r-markdown.html#cb111-5"></a>token &lt;-<span class="st"> </span><span class="kw">drop_auth</span>()</span>
<span id="cb111-6"><a href="citations-with-r-markdown.html#cb111-6"></a> </span>
<span id="cb111-7"><a href="citations-with-r-markdown.html#cb111-7"></a><span class="co"># Save token</span></span>
<span id="cb111-8"><a href="citations-with-r-markdown.html#cb111-8"></a><span class="kw">saveRDS</span>(token, <span class="st">&quot;droptoken.rds&quot;</span>)</span>
<span id="cb111-9"><a href="citations-with-r-markdown.html#cb111-9"></a> </span>
<span id="cb111-10"><a href="citations-with-r-markdown.html#cb111-10"></a><span class="co"># Encrypt token</span></span>
<span id="cb111-11"><a href="citations-with-r-markdown.html#cb111-11"></a><span class="kw">genkeys</span>()               <span class="co"># Default file names are id_rsa and id_rsa.pub</span></span>
<span id="cb111-12"><a href="citations-with-r-markdown.html#cb111-12"></a><span class="kw">encrypt_file</span>(<span class="st">&quot;droptoken.rds&quot;</span>, <span class="st">&quot;droptoken.rds.encryptr.bin&quot;</span>)</span>
<span id="cb111-13"><a href="citations-with-r-markdown.html#cb111-13"></a><span class="kw">encrypt_file</span>(<span class="st">&quot;.httr-oauth&quot;</span>, <span class="st">&quot;.httr-oauth.encryptr.bin&quot;</span>)</span>
<span id="cb111-14"><a href="citations-with-r-markdown.html#cb111-14"></a> </span>
<span id="cb111-15"><a href="citations-with-r-markdown.html#cb111-15"></a><span class="co"># Same details should appear later</span></span>
<span id="cb111-16"><a href="citations-with-r-markdown.html#cb111-16"></a><span class="kw">drop_acc</span>()</span>
<span id="cb111-17"><a href="citations-with-r-markdown.html#cb111-17"></a> </span>
<span id="cb111-18"><a href="citations-with-r-markdown.html#cb111-18"></a><span class="co"># Remove token from local environment</span></span>
<span id="cb111-19"><a href="citations-with-r-markdown.html#cb111-19"></a><span class="kw">rm</span>(token)</span>
<span id="cb111-20"><a href="citations-with-r-markdown.html#cb111-20"></a> </span>
<span id="cb111-21"><a href="citations-with-r-markdown.html#cb111-21"></a> </span>
<span id="cb111-22"><a href="citations-with-r-markdown.html#cb111-22"></a><span class="co"># Delete the unencrypted files</span></span>
<span id="cb111-23"><a href="citations-with-r-markdown.html#cb111-23"></a><span class="kw">system</span>(<span class="st">&quot;rm droptoken.rds&quot;</span>)</span>
<span id="cb111-24"><a href="citations-with-r-markdown.html#cb111-24"></a><span class="kw">system</span>(<span class="st">&quot;rm .httr-oauth&quot;</span>)</span></code></pre></div>
<p>The following files will then be needed to upload to the RStudio server:</p>
<ul>
<li><code>droptoken.rds.encryptr.bin</code> – or the name provided for the encrypted DropBox token</li>
<li><code>id_rsa</code> – or the name provided for the private key from the private / public key pair</li>
</ul>
</div>
<div id="dropbox-linkage" class="section level3">
<h3><span class="header-section-number">10.6.2</span> DropBox Linkage</h3>
<p>Now that the encrypted token and necessary (password-protected) private key are available in RStudio server, the following can be saved as a separate script. The script is designed to read in and decrypt the encrypted token (this will require a password and should be done if the .bib file needs updated). Only the drop_download() needs repeated if using the token again during the same session. The token should be cleared at the end of every session for additional security.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="citations-with-r-markdown.html#cb112-1"></a><span class="kw">library</span>(rdrop2)</span>
<span id="cb112-2"><a href="citations-with-r-markdown.html#cb112-2"></a><span class="kw">library</span>(encryptr)</span>
<span id="cb112-3"><a href="citations-with-r-markdown.html#cb112-3"></a> </span>
<span id="cb112-4"><a href="citations-with-r-markdown.html#cb112-4"></a><span class="co"># ******** </span><span class="al">WARNING</span><span class="co"> ********</span></span>
<span id="cb112-5"><a href="citations-with-r-markdown.html#cb112-5"></a><span class="co"># Losing the unencrypted token will give anyone </span></span>
<span id="cb112-6"><a href="citations-with-r-markdown.html#cb112-6"></a><span class="co"># complete control of your Dropbox account</span></span>
<span id="cb112-7"><a href="citations-with-r-markdown.html#cb112-7"></a><span class="co"># If you are concerned this has happened,</span></span>
<span id="cb112-8"><a href="citations-with-r-markdown.html#cb112-8"></a><span class="co"># you can then revoke the rdrop2 app from your</span></span>
<span id="cb112-9"><a href="citations-with-r-markdown.html#cb112-9"></a><span class="co"># dropbox account and start over.</span></span>
<span id="cb112-10"><a href="citations-with-r-markdown.html#cb112-10"></a><span class="co"># ******** </span><span class="al">WARNING</span><span class="co"> ********</span></span>
<span id="cb112-11"><a href="citations-with-r-markdown.html#cb112-11"></a> </span>
<span id="cb112-12"><a href="citations-with-r-markdown.html#cb112-12"></a> </span>
<span id="cb112-13"><a href="citations-with-r-markdown.html#cb112-13"></a>safely_extract_dropbox_token &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">encrypted_db_token =</span> <span class="ot">NULL</span>, </span>
<span id="cb112-14"><a href="citations-with-r-markdown.html#cb112-14"></a>                                         <span class="dt">private_key_file =</span> <span class="ot">NULL</span>){</span>
<span id="cb112-15"><a href="citations-with-r-markdown.html#cb112-15"></a>  <span class="kw">decrypt_file</span>(encrypted_db_token, </span>
<span id="cb112-16"><a href="citations-with-r-markdown.html#cb112-16"></a>               <span class="dt">file_name =</span> <span class="st">&quot;temporary_dropbox_token.rds&quot;</span>, </span>
<span id="cb112-17"><a href="citations-with-r-markdown.html#cb112-17"></a>               <span class="dt">private_key_path =</span> private_key_file)</span>
<span id="cb112-18"><a href="citations-with-r-markdown.html#cb112-18"></a>  </span>
<span id="cb112-19"><a href="citations-with-r-markdown.html#cb112-19"></a>  token &lt;&lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;temporary_dropbox_token.rds&quot;</span>)</span>
<span id="cb112-20"><a href="citations-with-r-markdown.html#cb112-20"></a>  </span>
<span id="cb112-21"><a href="citations-with-r-markdown.html#cb112-21"></a>  <span class="kw">system</span>(<span class="st">&quot;rm temporary_dropbox_token.rds&quot;</span>)</span>
<span id="cb112-22"><a href="citations-with-r-markdown.html#cb112-22"></a>}</span>
<span id="cb112-23"><a href="citations-with-r-markdown.html#cb112-23"></a> </span>
<span id="cb112-24"><a href="citations-with-r-markdown.html#cb112-24"></a><span class="kw">safely_extract_dropbox_token</span>(<span class="dt">encrypted_db_token =</span> <span class="st">&quot;droptoken.rds.encryptr.bin&quot;</span>, </span>
<span id="cb112-25"><a href="citations-with-r-markdown.html#cb112-25"></a>                             <span class="dt">private_key_file =</span> <span class="st">&quot;id_rsa&quot;</span>)</span>
<span id="cb112-26"><a href="citations-with-r-markdown.html#cb112-26"></a> </span>
<span id="cb112-27"><a href="citations-with-r-markdown.html#cb112-27"></a><span class="co"># Then pass the token to each drop_ function</span></span>
<span id="cb112-28"><a href="citations-with-r-markdown.html#cb112-28"></a><span class="kw">drop_acc</span>(<span class="dt">dtoken =</span> token)</span>
<span id="cb112-29"><a href="citations-with-r-markdown.html#cb112-29"></a> </span>
<span id="cb112-30"><a href="citations-with-r-markdown.html#cb112-30"></a><span class="co"># The path is the Dropbox file location</span></span>
<span id="cb112-31"><a href="citations-with-r-markdown.html#cb112-31"></a><span class="kw">drop_download</span>(<span class="dt">path =</span> <span class="st">&quot;My_Dropbox_Home_Directory/Zotero Library/my.bib&quot;</span>, </span>
<span id="cb112-32"><a href="citations-with-r-markdown.html#cb112-32"></a>              <span class="dt">local_path =</span> <span class="st">&quot;my.bib&quot;</span>, </span>
<span id="cb112-33"><a href="citations-with-r-markdown.html#cb112-33"></a>              <span class="dt">dtoken =</span> token,</span>
<span id="cb112-34"><a href="citations-with-r-markdown.html#cb112-34"></a>              <span class="dt">overwrite =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p>Now that the <code>.bib</code> file has been created and is stored as “my.bib” in the local directory, it should update whenever the token is loaded and drop_download() is run. The <code>.bib</code> file should be listed in the <code>.rmd</code> YAML.</p>
</div>
</div>
<div id="citing-r-packages" class="section level2">
<h2><span class="header-section-number">10.7</span> Citing R Packages</h2>
<p>When citing R packages a separate <code>.bib</code> file can be created. The following code could be added to an <code>index.rmd</code> file in <code>bookdown</code> or in a setup chunk in a stand-alone <code>.rmd</code>.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="citations-with-r-markdown.html#cb113-1"></a><span class="co"># automatically create a bib database for R packages</span></span>
<span id="cb113-2"><a href="citations-with-r-markdown.html#cb113-2"></a>knitr<span class="op">::</span><span class="kw">write_bib</span>(<span class="kw">c</span>(</span>
<span id="cb113-3"><a href="citations-with-r-markdown.html#cb113-3"></a>  <span class="kw">.packages</span>(), <span class="st">&#39;encryptr&#39;</span>, <span class="st">&#39;knitr&#39;</span>, <span class="st">&#39;rmarkdown&#39;</span></span>
<span id="cb113-4"><a href="citations-with-r-markdown.html#cb113-4"></a>), <span class="st">&#39;packages.bib&#39;</span>)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="server-admin.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["cookbook.pdf", "cookbook.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
